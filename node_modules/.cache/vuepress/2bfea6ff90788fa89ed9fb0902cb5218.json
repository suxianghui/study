{"remainingRequest":"D:\\1\\实训一\\study\\study\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\1\\实训一\\study\\study\\lib\\app\\root-mixins\\activeHeaderLinks.js","dependencies":[{"path":"D:\\1\\实训一\\study\\study\\lib\\app\\root-mixins\\activeHeaderLinks.js","mtime":1557200316942},{"path":"D:\\1\\实训一\\study\\study\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\1\\实训一\\study\\study\\node_modules\\babel-loader\\lib\\index.js","mtime":1526583314000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport store from '@app/store';\nimport throttle from 'lodash.throttle';\nexport default {\n  mounted: function mounted() {\n    window.addEventListener('scroll', this.onScroll);\n  },\n  methods: {\n    onScroll: throttle(function () {\n      this.setActiveHash();\n    }, 300),\n    setActiveHash: function setActiveHash() {\n      var _this = this;\n\n      var sidebarLinks = [].slice.call(document.querySelectorAll('.sidebar-link'));\n      var anchors = [].slice.call(document.querySelectorAll('.header-anchor')).filter(function (anchor) {\n        return sidebarLinks.some(function (sidebarLink) {\n          return sidebarLink.hash === anchor.hash;\n        });\n      });\n      var scrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);\n\n      for (var i = 0; i < anchors.length; i++) {\n        var anchor = anchors[i];\n        var nextAnchor = anchors[i + 1];\n        var isActive = i === 0 && scrollTop === 0 || scrollTop >= anchor.parentElement.offsetTop + 10 && (!nextAnchor || scrollTop < nextAnchor.parentElement.offsetTop - 10);\n\n        if (isActive && decodeURIComponent(this.$route.hash) !== decodeURIComponent(anchor.hash)) {\n          store.disableScrollBehavior = true;\n          this.$router.replace(decodeURIComponent(anchor.hash), function () {\n            // execute after scrollBehavior handler.\n            _this.$nextTick(function () {\n              store.disableScrollBehavior = false;\n            });\n          });\n          return;\n        }\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n};",{"version":3,"sources":["lib\\app\\root-mixins\\activeHeaderLinks.js"],"names":["store","throttle","mounted","window","addEventListener","onScroll","methods","setActiveHash","sidebarLinks","slice","call","document","querySelectorAll","anchors","filter","some","sidebarLink","hash","anchor","scrollTop","Math","max","pageYOffset","documentElement","body","i","length","nextAnchor","isActive","parentElement","offsetTop","decodeURIComponent","$route","disableScrollBehavior","$router","replace","$nextTick","beforeDestroy","removeEventListener"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AAEA,eAAe;AACbC,SADa,qBACF;AACTC,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,QAAvC;AACD,GAHY;AAIbC,WAAS;AACPD,cAAUJ,SAAS,YAAY;AAC7B,WAAKM,aAAL;AACD,KAFS,EAEP,GAFO,CADH;AAIPA,iBAJO,2BAIU;AAAA;;AACf,UAAMC,eAAe,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAASC,gBAAT,CAA0B,eAA1B,CAAd,CAArB;AACA,UAAMC,UAAU,GAAGJ,KAAH,CAASC,IAAT,CAAcC,SAASC,gBAAT,CAA0B,gBAA1B,CAAd,EACfE,MADe,CACR;AAAA,eAAUN,aAAaO,IAAb,CAAkB;AAAA,iBAAeC,YAAYC,IAAZ,KAAqBC,OAAOD,IAA3C;AAAA,SAAlB,CAAV;AAAA,OADQ,CAAhB;AAGA,UAAME,YAAYC,KAAKC,GAAL,CAChBlB,OAAOmB,WADS,EAEhBX,SAASY,eAAT,CAAyBJ,SAFT,EAGhBR,SAASa,IAAT,CAAcL,SAHE,CAAlB;;AAMA,WAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAIZ,QAAQa,MAA5B,EAAoCD,GAApC,EAAyC;AACvC,YAAMP,SAASL,QAAQY,CAAR,CAAf;AACA,YAAME,aAAad,QAAQY,IAAI,CAAZ,CAAnB;AAEA,YAAMG,WAAWH,MAAM,CAAN,IAAWN,cAAc,CAAzB,IAChBA,aAAaD,OAAOW,aAAP,CAAqBC,SAArB,GAAiC,EAA9C,KACA,CAACH,UAAD,IAAeR,YAAYQ,WAAWE,aAAX,CAAyBC,SAAzB,GAAqC,EADhE,CADD;;AAIA,YAAIF,YAAYG,mBAAmB,KAAKC,MAAL,CAAYf,IAA/B,MAAyCc,mBAAmBb,OAAOD,IAA1B,CAAzD,EAA0F;AACxFjB,gBAAMiC,qBAAN,GAA8B,IAA9B;AACA,eAAKC,OAAL,CAAaC,OAAb,CAAqBJ,mBAAmBb,OAAOD,IAA1B,CAArB,EAAsD,YAAM;AAC1D;AACA,kBAAKmB,SAAL,CAAe,YAAM;AACnBpC,oBAAMiC,qBAAN,GAA8B,KAA9B;AACD,aAFD;AAGD,WALD;AAMA;AACD;AACF;AACF;AAlCM,GAJI;AAwCbI,eAxCa,2BAwCI;AACflC,WAAOmC,mBAAP,CAA2B,QAA3B,EAAqC,KAAKjC,QAA1C;AACD;AA1CY,CAAf","sourceRoot":"D:\\1\\实训一\\study\\study","sourcesContent":["import store from '@app/store'\r\nimport throttle from 'lodash.throttle'\r\n\r\nexport default {\r\n  mounted () {\r\n    window.addEventListener('scroll', this.onScroll)\r\n  },\r\n  methods: {\r\n    onScroll: throttle(function () {\r\n      this.setActiveHash()\r\n    }, 300),\r\n    setActiveHash () {\r\n      const sidebarLinks = [].slice.call(document.querySelectorAll('.sidebar-link'))\r\n      const anchors = [].slice.call(document.querySelectorAll('.header-anchor'))\r\n      .filter(anchor => sidebarLinks.some(sidebarLink => sidebarLink.hash === anchor.hash))\r\n\r\n      const scrollTop = Math.max(\r\n        window.pageYOffset,\r\n        document.documentElement.scrollTop,\r\n        document.body.scrollTop\r\n      )\r\n\r\n      for (let i = 0; i < anchors.length; i++) {\r\n        const anchor = anchors[i]\r\n        const nextAnchor = anchors[i + 1]\r\n\r\n        const isActive = i === 0 && scrollTop === 0 ||\r\n        (scrollTop >= anchor.parentElement.offsetTop + 10 &&\r\n        (!nextAnchor || scrollTop < nextAnchor.parentElement.offsetTop - 10))\r\n\r\n        if (isActive && decodeURIComponent(this.$route.hash) !== decodeURIComponent(anchor.hash)) {\r\n          store.disableScrollBehavior = true\r\n          this.$router.replace(decodeURIComponent(anchor.hash), () => {\r\n            // execute after scrollBehavior handler.\r\n            this.$nextTick(() => {\r\n              store.disableScrollBehavior = false\r\n            })\r\n          })\r\n          return\r\n        }\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('scroll', this.onScroll)\r\n  }\r\n}\r\n"]}]}